<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>aipmap</title>

	<script src="libraries/p5.js"></script>
	<script src="libraries/p5.dom.js"></script>
	<script src="libraries/p5.sound.js"></script>
	<script src="sketch.js"></script>
	<script src="drawmap.js"></script>
	<script src="dashboard_management.js"></script>
	<link rel="stylesheet" href="mystyle.css">

	<h1 style="text-align:center">Version2-ATM-TeamF</h1>
</head>
<body>	
	<div id="user_settings" style="float: left; width: 50%">
		<p>
			Your current position is somewhere around...<br />
			latitude: <span id="latitude">&deg;</span><br />
			longitude: <span id="longitude">&deg;</span>
		</p>
		<p>
			Your nearest Airport is<br />
			latitude: <span id="airportLat">&deg;</span><br />
			longitude: <span id="airportLon">&deg;</span>
		</p>
		<p>
			The distamce is<br />
			distance: <span id="dist">&deg;</span>
		</p>
		<div id="upper_dashboard">
			<div id="usersettings_dashboard" style="float: left; width: 50%">
				<h2>Departure Airport</h2>
				<select name="formArrival" id="user_settings_form">
					<option value="geolocation">Geolocate my airport</option>
					<option value="no_geolocation">Choose different airport</option>
				</select>
			</div>
			<div id="listofap_dashboard" style="float: left; width: 50%">
				<h2>Arrival Airport</h2>
				<p>Choose airport</p>
				<nav>
					<ul>
						<li>ARAD (LRAD)</li>
						<li>BACAU (LRBC)</li>
						<li>BAIA MARE (LRBM)</li>
						<li>BUCUREST OTOPENI (LROP)</li>
						<li>CARANSEBES (LRCS)</li> 
						<li>CLUJ NAPOCA (LRCS)</li> 
						<li>CONSTANTA (LRCK)</li>
						<li>CRAIOVA (LRCV)</li>
						<li>IASI (LRIA) </li>
						<li>ORADEA (LROD)</li>
						<li>SATU MARE (LRSM)</li>
						<li>SUCEAVA (LRSV)</li>
						<li>TARGU MURES (LRTM)</li>
						<li>TIMISOARA (LRTR)</li>
						<li>TULCEA (LRTC)</li>
						<li>SIBIU (LRCD)</li>
						<li>PLOIESTI (LRPW)</li>
						<li>TUZLA (LRTZ)</li>
					</ul>
				</nav>				
			</div>
		</div>
		<div id="lower_dashboard">
			<div id="departure_dashboard" style="float: left; width: 50%">
				<form>
					<label for="fname">Departing Airport:</label><br>
					<input type="text" id="depname" name="fname"><br>
				</form> 
			</div>
			<div id="arrival_dashboard" style="float: left; width: 50%">
				<form>
					<label for="lname">Arrival Airport:</label><br>
					<input type="text" id="arname" name="lname">
				</form> 
			</div>
		</div>
		<div>
			<button type="button" onclick="generateMap()">Generate Map</button>
			<button type="button" onclick="focusOnArrivalAirport()">Focus view on Arrival Airport</button>
			<button type="button" onclick="focusOnDepartureAirport()">Focus view on Departure Airport</button>
		</div>
	</div>
		
    <div id="map" style="float: right; width: 50%"></div>
	<p id="METARmessage"></p>

    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDSGWLGsVB1CywI7sQjoPHUh8NwB6cfTtY&callback=initMap&libraries=&v=weekly"
      async
    ></script>
<script>

	async function GetWeather()
	{
		const response = await fetch(api_url);
		const data = await response.json();
		const Metar=data.weather.METAR;
		const Taf=data.weather.TAF;
		console.log(data.weather);
	}

	const mesajmetar = document.getElementById("METARmessage");
		 GetWEather();
	document.getElementById("METARmessage").textContent=Metar;</script>
</body>
</html>
